<div id="metric-add-screen" class="ui-popup-screen ui-screen-hidden ui-overlay-a"></div>
<div id="metric-add-popup"
     class="ui-popup-container mid-popup ui-popup-hidden ui-body-inherit ui-corner-all">

    <div id="metric-add"
         class="ui-popup ui-corner-all ui-overlay-shadow"
         data-role="popup"
         data-enhanced="true"
         data-transition="flip"
         data-position-to="#add-metric-btn">

        <div class="ui-header ui-bar-b">
            <h1 class="ui-title">Select Metric</h1>
        </div>

        <div {{bind-attr class="
                Mist.metricAddController.metrics.length::no-metrics
                :ui-content
                :ui-body-a"}}
            role="main">

            <a class="ui-btn ui-btn-d ui-corner-all ui-btn-icon-left ui-icon-plus"
                {{action "customClicked" target="view"}}>custom</a>

            {{#if Mist.metricAddController.metrics.length}}
                {{view "metricNode"
                    nodeBinding="Mist.metricAddController.metricsTree"}}
            {{else}}
                <div class="ui-body-a">
                    <p>Checking available metrics on your server</p>
                    <div class="ajax-loader"></div>
                </div>
            {{/if}}

            {{#if Mist.metricsController.addingMetric}}
                <div id="overlay"></div>
            {{/if}}

        </div>
    </div>
</div>

{{view "metricAddCustom"}}
